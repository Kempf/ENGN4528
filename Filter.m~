function [frame_out,region] = Filter(frame)

%only takes the pixel clusters that are within this threshold

% SE = strel('rectangle',[2,2]);
% frame_out = imopen(frame,SE);
SE = strel('disk',3);
frame_out = imclose(frame,SE);
SE = strel('rectangle',[20,2]);
% frame_out = imdilate(frame_out,SE);
region  = regionprops(frame_out,'BoundingBox');


if size(region,1) ~= 0
    for i = 1:size(region,1)
        area = region(i).BoundingBox(3) * region(i).BoundingBox(4);
        if (area <= 900) && (area >= 200)
        
            region(i).BoundingBox(1) = region(i).BoundingBox(1) - 3;
            region(i).BoundingBox(2) = region(i).BoundingBox(2) - 3;
            region(i).BoundingBox(3) = region(i).BoundingBox(3) + 7;
            region(i).BoundingBox(4) = region(i).BoundingBox(4) + 7;

        
        
        rec = rectangle('Position',region(i).BoundingBox,'EdgeColor','r','LineWidth',2);
        
    end
end
end